#include <FastLED.h>
#include "PinChangeInterrupt.h"

// String info
#define NUM_STRINGS 42
#define NUM_LEDS_PER_STRING 13
#define LED_TYPE WS2812
CRGB leds[NUM_STRINGS][NUM_LEDS_PER_STRING];

// Color info
const CRGB color_neg_three = CRGB(0, 0, 255);
const CRGB color_neg_two = CRGB(0, 200, 255);
const CRGB  color_neg_one = CRGB(0, 225, 225);
const CRGB  color_zero = CRGB(255, 255, 255);
const CRGB  color_one = CRGB(255, 75, 0);
const CRGB  color_two = CRGB(255, 50, 0);
const CRGB  color_three = CRGB(255, 0, 0);

const CRGB  colors[7] = {color_neg_three, color_neg_two, color_neg_one, color_zero, color_one, color_two, color_three};

// Button pins
const uint8_t button_pm25 = 53;
const uint8_t button_death = 52;

// Button states
const bool state_pm25 = 0;
const bool state_death = 0;
const bool state_c_asthma = 0;
const bool state_resp = 0;
const bool state_cardio = 0;
const bool state_a_asthma = 0;

// PM2.5 data
// [42] = neighborhood
// [13] = space time cube value
const char PROGMEM pm25[42][13] =
{
  {0.0, 5.0 , 6.0 , 5.0 , 4.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 2.0 , 1.0 , 0.0},
  {0.0, 5.0 , 5.0 , 5.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 2.0 , 1.0 , 0.0 , 0.0},
  {0.0, 6.0 , 6.0 , 6.0 , 5.0 , 3.0 , 3.0 , 3.0 , 3.0 , 2.0 , 1.0 , 0.0 , 0.0},
  {0.0, 5.0 , 5.0 , 5.0 , 4.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 2.0 , 1.0 , 0.0},
  {0.0, 6.0 , 6.0 , 6.0 , 6.0 , 3.0 , 3.0 , 3.0 , 3.0 , 2.0 , 1.0 , 0.0 , 0.0},
  {0.0, 6.0 , 6.0 , 6.0 , 6.0 , 4.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 1.0 , 0.0},
  {0.0, 6.0 , 6.0 , 6.0 , 6.0 , 4.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 1.0 , 0.0},
  {0.0, 6.0 , 6.0 , 6.0 , 6.0 , 6.0 , 6.0 , 6.0 , 5.0 , 3.0 , 3.0 , 3.0 , 2.0},
  {0.0, 6.0 , 6.0 , 6.0 , 6.0 , 5.0 , 5.0 , 5.0 , 3.0 , 3.0 , 3.0 , 2.0 , 0.0},
  {0.0, 6.0 , 6.0 , 6.0 , 5.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 1.0 , 0.0},
  {0.0, 5.0 , 5.0 , 4.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 2.0 , 1.0 , 0.0 , 0.0},
  {0.0, 5.0 , 5.0 , 5.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 1.0 , 0.0 , 0.0},
  {0.0, 3.0 , 4.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 1.0 , 1.0 , 0.0 , 0.0},
  {0.0, 5.0 , 5.0 , 5.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 2.0 , 1.0 , 0.0 , 0.0},
  {0.0, 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 2.0 , 1.0 , 0.0},
  {0.0, 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 2.0 , 1.0 , 0.0 , 0.0},
  {0.0, 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 1.0 , 1.0 , 0.0 , 0.0},
  {0.0, 6.0 , 6.0 , 6.0 , 5.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 1.0 , 0.0},
  {0.0, 6.0 , 6.0 , 6.0 , 6.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 2.0 , 1.0 , 0.0},
  {0.0, 6.0 , 6.0 , 6.0 , 6.0 , 5.0 , 5.0 , 4.0 , 3.0 , 3.0 , 3.0 , 1.0 , 0.0},
  {0.0, 6.0 , 6.0 , 6.0 , 6.0 , 5.0 , 5.0 , 5.0 , 3.0 , 3.0 , 3.0 , 1.0 , 0.0},
  {0.0, 6.0 , 6.0 , 6.0 , 6.0 , 6.0 , 6.0 , 6.0 , 3.0 , 3.0 , 3.0 , 3.0 , 1.0},
  {0.0, 6.0 , 6.0 , 6.0 , 6.0 , 6.0 , 6.0 , 6.0 , 3.0 , 3.0 , 3.0 , 3.0 , 1.0},
  {0.0, 6.0 , 6.0 , 6.0 , 6.0 , 6.0 , 6.0 , 6.0 , 5.0 , 3.0 , 3.0 , 3.0 , 3.0},
  {0.0, 6.0 , 6.0 , 6.0 , 6.0 , 6.0 , 6.0 , 6.0 , 5.0 , 3.0 , 3.0 , 3.0 , 3.0},
  {0.0, 6.0 , 6.0 , 6.0 , 6.0 , 6.0 , 6.0 , 6.0 , 5.0 , 3.0 , 3.0 , 3.0 , 3.0},
  {0.0, 6.0 , 6.0 , 6.0 , 6.0 , 6.0 , 6.0 , 6.0 , 5.0 , 3.0 , 3.0 , 3.0 , 3.0},
  {0.0, 6.0 , 6.0 , 6.0 , 6.0 , 5.0 , 5.0 , 5.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0},
  {0.0, 6.0 , 6.0 , 6.0 , 6.0 , 6.0 , 6.0 , 6.0 , 3.0 , 3.0 , 3.0 , 3.0 , 1.0},
  {0.0, 4.0 , 4.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 1.0},
  {0.0, 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 1.0 , 1.0 , 0.0 , 0.0},
  {0.0, 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 1.0 , 1.0 , 0.0 , 0.0},
  {0.0, 5.0 , 5.0 , 4.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 1.0 , 0.0 , 0.0},
  {0.0, 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 1.0 , 0.0 , 0.0 , 0.0},
  {0.0, 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 1.0 , 1.0 , 0.0 , 0.0},
  {0.0, 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 2.0 , 0.0 , 0.0 , 0.0 , 0.0},
  {0.0, 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 2.0 , 1.0 , 1.0 , 0.0},
  {0.0, 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 2.0 , 2.0 , 1.0 , 1.0},
  {0.0, 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 2.0 , 1.0 , 0.0},
  {0.0, 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 2.0 , 1.0},
  {0.0, 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 2.0 , 1.0 , 0.0},
  {0.0, 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 2.0 , 1.0},
};

// death data
// [42] = neighborhood
// [13] = space time cube value
const char PROGMEM death[42][13] =
{
  {6.0 , 6.0 , 6.0 , 6.0 , 5.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0},
  {6.0 , 6.0 , 6.0 , 6.0 , 5.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0},
  {6.0 , 6.0 , 6.0 , 6.0 , 5.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0},
  {5.0 , 6.0 , 6.0 , 6.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0},
  {6.0 , 6.0 , 6.0 , 6.0 , 5.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0},
  {6.0 , 6.0 , 6.0 , 6.0 , 5.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0},
  {6.0 , 6.0 , 6.0 , 6.0 , 5.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0},
  {4.0 , 6.0 , 6.0 , 4.0 , 3.0 , 3.0 , 3.0 , 3.0 , 1.0 , 1.0 , 0.0 , 0.0 , 0.0},
  {4.0 , 6.0 , 6.0 , 4.0 , 3.0 , 3.0 , 3.0 , 2.0 , 0.0 , 0.0 , 0.0 , 0.0 , 0.0},
  {5.0 , 6.0 , 6.0 , 5.0 , 3.0 , 3.0 , 3.0 , 3.0 , 2.0 , 2.0 , 1.0 , 0.0 , 0.0},
  {5.0 , 6.0 , 6.0 , 4.0 , 3.0 , 3.0 , 3.0 , 3.0 , 2.0 , 2.0 , 1.0 , 1.0 , 1.0},
  {3.0 , 4.0 , 4.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 1.0 , 1.0 , 1.0 , 0.0 , 0.0},
  {4.0 , 6.0 , 6.0 , 5.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 2.0 , 2.0},
  {3.0 , 5.0 , 5.0 , 4.0 , 3.0 , 3.0 , 3.0 , 3.0 , 1.0 , 1.0 , 1.0 , 0.0 , 0.0},
  {3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0},
  {5.0 , 6.0 , 6.0 , 5.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0},
  {5.0 , 6.0 , 6.0 , 5.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0},
  {6.0 , 6.0 , 6.0 , 5.0 , 3.0 , 3.0 , 3.0 , 3.0 , 2.0 , 2.0 , 1.0 , 0.0 , 0.0},
  {6.0 , 6.0 , 6.0 , 6.0 , 4.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0},
  {6.0 , 6.0 , 6.0 , 6.0 , 5.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0},
  {6.0 , 6.0 , 6.0 , 6.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0},
  {6.0 , 6.0 , 6.0 , 6.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 1.0 , 1.0},
  {6.0 , 6.0 , 6.0 , 6.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 1.0 , 1.0},
  {3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 2.0 , 2.0 , 1.0 , 0.0 , 0.0},
  {3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 1.0 , 1.0 , 0.0 , 0.0 , 0.0},
  {3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 1.0 , 1.0 , 0.0 , 0.0 , 0.0},
  {3.0 , 5.0 , 5.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 1.0 , 1.0 , 0.0 , 0.0 , 0.0},
  {3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 2.0 , 2.0 , 1.0 , 0.0 , 0.0},
  {4.0 , 5.0 , 5.0 , 4.0 , 3.0 , 3.0 , 3.0 , 3.0 , 2.0 , 2.0 , 1.0 , 0.0 , 0.0},
  {3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 2.0 , 1.0 , 1.0 , 1.0 , 1.0 , 1.0},
  {3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 1.0 , 1.0 , 1.0 , 1.0 , 1.0},
  {3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 1.0 , 1.0 , 1.0 , 1.0 , 1.0},
  {3.0 , 4.0 , 4.0 , 3.0 , 3.0 , 3.0 , 3.0 , 2.0 , 1.0 , 1.0 , 0.0 , 0.0 , 0.0},
  {3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 2.0 , 1.0 , 1.0 , 1.0 , 0.0 , 0.0},
  {3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 1.0 , 1.0 , 1.0 , 0.0 , 0.0},
  {3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 1.0 , 0.0 , 0.0 , 0.0 , 0.0 , 0.0},
  {3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 2.0 , 2.0 , 1.0 , 1.0 , 1.0},
  {6.0 , 6.0 , 6.0 , 5.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0},
  {3.0 , 5.0 , 5.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0},
  {3.0 , 5.0 , 5.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0},
  {3.0 , 5.0 , 5.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0},
  {3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0},
};

// children asthma data
// [42] = neighborhood
// [13] = space time cube value
const char PROGMEM c_asthma[42][13] =
{
  {3.0 , 5.0 , 5.0 , 6.0 , 4.0 , 3.0 , 3.0 , 3.0 , 4.0 , 4.0 , 3.0 , 3.0 , 3.0},
  {3.0 , 3.0 , 3.0 , 5.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0},
  {4.0 , 6.0 , 6.0 , 6.0 , 5.0 , 3.0 , 3.0 , 3.0 , 4.0 , 4.0 , 3.0 , 3.0 , 3.0},
  {4.0 , 6.0 , 6.0 , 6.0 , 4.0 , 3.0 , 3.0 , 3.0 , 5.0 , 5.0 , 3.0 , 3.0 , 3.0},
  {6.0 , 6.0 , 6.0 , 6.0 , 6.0 , 6.0 , 6.0 , 6.0 , 6.0 , 6.0 , 5.0 , 3.0 , 3.0},
  {6.0 , 6.0 , 6.0 , 6.0 , 6.0 , 6.0 , 6.0 , 6.0 , 6.0 , 6.0 , 6.0 , 6.0 , 6.0},
  {6.0 , 6.0 , 6.0 , 6.0 , 6.0 , 6.0 , 6.0 , 6.0 , 6.0 , 6.0 , 6.0 , 6.0 , 6.0},
  {3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0},
  {3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0},
  {3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0},
  {3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0},
  {3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 2.0 , 2.0 , 2.0},
  {3.0 , 2.0 , 2.0 , 3.0 , 3.0 , 3.0 , 3.0 , 2.0 , 2.0 , 2.0 , 2.0 , 1.0 , 1.0},
  {3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0},
  {3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0},
  {3.0 , 1.0 , 1.0 , 3.0 , 3.0 , 2.0 , 2.0 , 1.0 , 1.0 , 1.0 , 1.0 , 1.0 , 1.0},
  {3.0 , 2.0 , 2.0 , 3.0 , 3.0 , 2.0 , 2.0 , 2.0 , 2.0 , 2.0 , 2.0 , 2.0 , 2.0},
  {3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0},
  {6.0 , 6.0 , 6.0 , 6.0 , 6.0 , 6.0 , 6.0 , 6.0 , 6.0 , 6.0 , 6.0 , 5.0 , 5.0},
  {6.0 , 6.0 , 6.0 , 6.0 , 6.0 , 6.0 , 6.0 , 6.0 , 6.0 , 6.0 , 5.0 , 3.0 , 3.0},
  {6.0 , 6.0 , 6.0 , 6.0 , 6.0 , 6.0 , 6.0 , 6.0 , 5.0 , 5.0 , 4.0 , 3.0 , 3.0},
  {5.0 , 6.0 , 6.0 , 5.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0},
  {5.0 , 6.0 , 6.0 , 5.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0},
  {3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 2.0 , 1.0 , 1.0},
  {3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 2.0 , 2.0 , 2.0 , 1.0 , 1.0},
  {3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 2.0 , 1.0 , 1.0},
  {3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 2.0 , 2.0},
  {3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0},
  {3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0},
  {3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0},
  {3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 2.0 , 2.0 , 2.0 , 2.0 , 2.0 , 2.0},
  {3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 2.0 , 2.0 , 2.0 , 2.0 , 2.0 , 2.0},
  {3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0},
  {3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 2.0 , 2.0 , 2.0},
  {3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0},
  {3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0},
  {3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0},
  {3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0},
  {3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0},
  {3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0},
  {3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0},
  {3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0},
};

// respiratory hospitalization data
// [42] = neighborhood
// [13] = space time cube value
const char PROGMEM resp[42][13] =
{
  {6.0 , 6.0 , 6.0 , 6.0 , 6.0 , 4.0 , 4.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0},
  {6.0 , 6.0 , 6.0 , 6.0 , 5.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0},
  {6.0 , 6.0 , 6.0 , 6.0 , 6.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0},
  {6.0 , 6.0 , 6.0 , 6.0 , 6.0 , 4.0 , 4.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0},
  {6.0 , 6.0 , 6.0 , 6.0 , 6.0 , 6.0 , 6.0 , 5.0 , 3.0 , 3.0 , 3.0 , 4.0 , 4.0},
  {6.0 , 6.0 , 6.0 , 6.0 , 6.0 , 6.0 , 6.0 , 6.0 , 4.0 , 4.0 , 4.0 , 4.0 , 4.0},
  {6.0 , 6.0 , 6.0 , 6.0 , 6.0 , 6.0 , 6.0 , 6.0 , 4.0 , 4.0 , 4.0 , 4.0 , 4.0},
  {3.0 , 4.0 , 4.0 , 3.0 , 3.0 , 3.0 , 3.0 , 2.0 , 1.0 , 1.0 , 0.0 , 0.0 , 0.0},
  {3.0 , 4.0 , 4.0 , 3.0 , 3.0 , 3.0 , 3.0 , 1.0 , 1.0 , 1.0 , 0.0 , 0.0 , 0.0},
  {4.0 , 6.0 , 6.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 1.0 , 1.0},
  {4.0 , 5.0 , 5.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0},
  {3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 1.0 , 1.0 , 1.0 , 1.0 , 1.0},
  {3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 2.0 , 2.0 , 2.0 , 2.0 , 2.0},
  {3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 2.0 , 2.0 , 2.0 , 1.0 , 1.0},
  {3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0},
  {3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 2.0 , 2.0},
  {3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0},
  {5.0 , 6.0 , 6.0 , 4.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 2.0 , 1.0 , 1.0},
  {6.0 , 6.0 , 6.0 , 6.0 , 6.0 , 6.0 , 6.0 , 5.0 , 3.0 , 3.0 , 4.0 , 4.0 , 4.0},
  {6.0 , 6.0 , 6.0 , 6.0 , 6.0 , 5.0 , 5.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0},
  {6.0 , 6.0 , 6.0 , 6.0 , 5.0 , 5.0 , 5.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0},
  {4.0 , 5.0 , 5.0 , 4.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 1.0 , 1.0},
  {4.0 , 5.0 , 5.0 , 4.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 1.0 , 1.0},
  {3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 1.0 , 1.0 , 1.0 , 0.0 , 0.0 , 0.0 , 0.0 , 0.0},
  {3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 1.0 , 1.0 , 0.0 , 0.0 , 0.0 , 0.0 , 0.0 , 0.0},
  {3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 1.0 , 1.0 , 0.0 , 0.0 , 0.0 , 0.0 , 0.0 , 0.0},
  {3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 1.0 , 1.0 , 1.0 , 0.0 , 0.0 , 0.0 , 0.0 , 0.0},
  {3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 2.0 , 2.0 , 2.0 , 1.0 , 1.0 , 1.0 , 1.0 , 1.0},
  {3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 2.0 , 2.0 , 1.0 , 1.0 , 1.0},
  {3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0},
  {3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 2.0 , 1.0 , 1.0 , 2.0 , 2.0 , 2.0},
  {3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 2.0 , 1.0 , 1.0 , 2.0 , 2.0 , 2.0},
  {3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 2.0 , 2.0},
  {3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 2.0 , 1.0 , 1.0 , 1.0 , 2.0 , 2.0},
  {3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0},
  {3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 2.0 , 1.0 , 1.0 , 1.0 , 1.0 , 1.0},
  {3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0},
  {4.0 , 5.0 , 5.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0},
  {3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0},
  {3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0},
  {3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0},
  {3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0},
};

// cardio hospitalization data
// [42] = neighborhood
// [13] = space time cube value
const char PROGMEM cardio[42][13] =
{
  {6.0 , 6.0 , 6.0 , 6.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0},
  {5.0 , 6.0 , 6.0 , 6.0 , 3.0 , 3.0 , 3.0 , 3.0 , 2.0 , 2.0 , 3.0 , 3.0 , 3.0},
  {6.0 , 6.0 , 6.0 , 6.0 , 3.0 , 3.0 , 3.0 , 3.0 , 2.0 , 2.0 , 3.0 , 3.0 , 3.0},
  {6.0 , 6.0 , 6.0 , 6.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0},
  {6.0 , 6.0 , 6.0 , 6.0 , 5.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0},
  {6.0 , 6.0 , 6.0 , 6.0 , 5.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0},
  {6.0 , 6.0 , 6.0 , 6.0 , 5.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0},
  {5.0 , 6.0 , 6.0 , 5.0 , 3.0 , 3.0 , 3.0 , 2.0 , 0.0 , 0.0 , 1.0 , 1.0 , 1.0},
  {6.0 , 6.0 , 6.0 , 6.0 , 3.0 , 3.0 , 3.0 , 3.0 , 0.0 , 0.0 , 1.0 , 2.0 , 2.0},
  {6.0 , 6.0 , 6.0 , 6.0 , 4.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0},
  {6.0 , 6.0 , 6.0 , 6.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0},
  {5.0 , 6.0 , 6.0 , 5.0 , 3.0 , 3.0 , 3.0 , 3.0 , 1.0 , 1.0 , 2.0 , 3.0 , 3.0},
  {5.0 , 6.0 , 6.0 , 6.0 , 3.0 , 3.0 , 3.0 , 3.0 , 1.0 , 1.0 , 2.0 , 3.0 , 3.0},
  {6.0 , 6.0 , 6.0 , 6.0 , 3.0 , 3.0 , 3.0 , 3.0 , 1.0 , 1.0 , 3.0 , 3.0 , 3.0},
  {3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0},
  {5.0 , 6.0 , 6.0 , 5.0 , 3.0 , 3.0 , 3.0 , 3.0 , 1.0 , 1.0 , 3.0 , 3.0 , 3.0},
  {5.0 , 6.0 , 6.0 , 5.0 , 3.0 , 3.0 , 3.0 , 3.0 , 2.0 , 2.0 , 3.0 , 3.0 , 3.0},
  {6.0 , 6.0 , 6.0 , 6.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0},
  {6.0 , 6.0 , 6.0 , 6.0 , 5.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0},
  {6.0 , 6.0 , 6.0 , 6.0 , 3.0 , 3.0 , 3.0 , 3.0 , 2.0 , 2.0 , 3.0 , 3.0 , 3.0},
  {6.0 , 6.0 , 6.0 , 6.0 , 3.0 , 3.0 , 3.0 , 3.0 , 2.0 , 2.0 , 3.0 , 3.0 , 3.0},
  {4.0 , 5.0 , 5.0 , 3.0 , 3.0 , 2.0 , 2.0 , 1.0 , 0.0 , 0.0 , 1.0 , 2.0 , 2.0},
  {4.0 , 5.0 , 5.0 , 3.0 , 3.0 , 2.0 , 2.0 , 1.0 , 0.0 , 0.0 , 1.0 , 2.0 , 2.0},
  {3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 1.0 , 1.0 , 0.0 , 0.0 , 0.0 , 0.0 , 0.0 , 0.0},
  {3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 0.0 , 0.0 , 0.0 , 0.0 , 0.0 , 0.0 , 0.0 , 0.0},
  {3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 2.0 , 2.0 , 1.0 , 0.0 , 0.0 , 0.0 , 0.0 , 0.0},
  {4.0 , 6.0 , 6.0 , 3.0 , 3.0 , 3.0 , 3.0 , 1.0 , 0.0 , 0.0 , 0.0 , 0.0 , 0.0},
  {3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 2.0 , 1.0 , 1.0 , 1.0 , 1.0 , 1.0},
  {3.0 , 4.0 , 4.0 , 3.0 , 3.0 , 3.0 , 3.0 , 1.0 , 0.0 , 0.0 , 1.0 , 2.0 , 2.0},
  {3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 2.0 , 0.0 , 0.0 , 1.0 , 3.0 , 3.0},
  {3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 1.0 , 0.0 , 0.0 , 0.0 , 1.0 , 1.0},
  {3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 1.0 , 0.0 , 0.0 , 0.0 , 1.0 , 1.0},
  {6.0 , 6.0 , 6.0 , 6.0 , 3.0 , 3.0 , 3.0 , 3.0 , 1.0 , 1.0 , 3.0 , 3.0 , 3.0},
  {3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 1.0 , 0.0 , 0.0 , 1.0 , 2.0 , 2.0},
  {5.0 , 6.0 , 6.0 , 5.0 , 3.0 , 3.0 , 3.0 , 3.0 , 2.0 , 2.0 , 3.0 , 3.0 , 3.0},
  {3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 1.0 , 1.0 , 3.0 , 3.0 , 3.0},
  {3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0},
  {3.0 , 4.0 , 4.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0},
  {3.0 , 4.0 , 4.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0},
  {3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0},
  {3.0 , 4.0 , 4.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0},
  {3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0},
};

// adult asthma data
// [42] = neighborhood
// [13] = space time cube value
const char PROGMEM a_asthma[42][13] =
{
  {4.0 , 6.0 , 6.0 , 6.0 , 4.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0},
  {3.0 , 3.0 , 3.0 , 5.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0},
  {4.0 , 6.0 , 6.0 , 6.0 , 5.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0},
  {5.0 , 6.0 , 6.0 , 6.0 , 5.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0},
  {6.0 , 6.0 , 6.0 , 6.0 , 6.0 , 6.0 , 6.0 , 5.0 , 5.0 , 5.0 , 3.0 , 3.0 , 3.0},
  {6.0 , 6.0 , 6.0 , 6.0 , 6.0 , 6.0 , 6.0 , 6.0 , 6.0 , 6.0 , 6.0 , 6.0 , 6.0},
  {6.0 , 6.0 , 6.0 , 6.0 , 6.0 , 6.0 , 6.0 , 6.0 , 6.0 , 6.0 , 6.0 , 6.0 , 6.0},
  {3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0},
  {3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0},
  {3.0 , 5.0 , 5.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0},
  {3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0},
  {3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0},
  {3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0},
  {3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0},
  {3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0},
  {3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0},
  {3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0},
  {3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0},
  {6.0 , 6.0 , 6.0 , 6.0 , 6.0 , 6.0 , 6.0 , 6.0 , 6.0 , 6.0 , 6.0 , 5.0 , 5.0},
  {6.0 , 6.0 , 6.0 , 6.0 , 6.0 , 6.0 , 6.0 , 6.0 , 5.0 , 5.0 , 3.0 , 3.0 , 3.0},
  {6.0 , 6.0 , 6.0 , 6.0 , 6.0 , 6.0 , 6.0 , 5.0 , 5.0 , 5.0 , 3.0 , 3.0 , 3.0},
  {3.0 , 4.0 , 4.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0},
  {3.0 , 4.0 , 4.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0},
  {3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 2.0 , 1.0 , 1.0},
  {3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 2.0 , 2.0 , 2.0 , 1.0 , 1.0 , 1.0},
  {3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 2.0 , 2.0},
  {3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0},
  {3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0},
  {3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0},
  {3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0},
  {3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0},
  {3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0},
  {3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0},
  {3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0},
  {3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0},
  {3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0},
  {3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0},
  {3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0},
  {3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0},
  {3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0},
  {3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0},
  {3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0 , 3.0},
};


void setup() {
  pinMode(button_pm25, INPUT_PULLUP);
  pinMode(button_death, INPUT_PULLUP);
  
  attachPCINT(digitalPinToPCINT(button_pm25), pm25_ISR, CHANGE);
  attachPCINT(digitalPinToPCINT(button_death), death_ISR, CHANGE);

  FastLED.addLeds<LED_TYPE, 0, GRB>(leds[0], NUM_LEDS_PER_STRING);
  FastLED.addLeds<LED_TYPE, 1, GRB>(leds[1], NUM_LEDS_PER_STRING);
  FastLED.addLeds<LED_TYPE, 2, GRB>(leds[2], NUM_LEDS_PER_STRING);
  FastLED.addLeds<LED_TYPE, 3, GRB>(leds[3], NUM_LEDS_PER_STRING);
  FastLED.addLeds<LED_TYPE, 4, GRB>(leds[4], NUM_LEDS_PER_STRING);
  FastLED.addLeds<LED_TYPE, 5, GRB>(leds[5], NUM_LEDS_PER_STRING);
  FastLED.addLeds<LED_TYPE, 6, GRB>(leds[6], NUM_LEDS_PER_STRING);
  FastLED.addLeds<LED_TYPE, 7, GRB>(leds[7], NUM_LEDS_PER_STRING);
  FastLED.addLeds<LED_TYPE, 8, GRB>(leds[8], NUM_LEDS_PER_STRING);
  FastLED.addLeds<LED_TYPE, 9, GRB>(leds[9], NUM_LEDS_PER_STRING);
  FastLED.addLeds<LED_TYPE, 10, GRB>(leds[10], NUM_LEDS_PER_STRING);
  FastLED.addLeds<LED_TYPE, 11, GRB>(leds[11], NUM_LEDS_PER_STRING);
  FastLED.addLeds<LED_TYPE, 12, GRB>(leds[12], NUM_LEDS_PER_STRING);
  FastLED.addLeds<LED_TYPE, 14, GRB>(leds[14], NUM_LEDS_PER_STRING);
  FastLED.addLeds<LED_TYPE, 15, GRB>(leds[15], NUM_LEDS_PER_STRING);
  FastLED.addLeds<LED_TYPE, 16, GRB>(leds[16], NUM_LEDS_PER_STRING);
  FastLED.addLeds<LED_TYPE, 17, GRB>(leds[17], NUM_LEDS_PER_STRING);
  FastLED.addLeds<LED_TYPE, 18, GRB>(leds[18], NUM_LEDS_PER_STRING);
  FastLED.addLeds<LED_TYPE, 19, GRB>(leds[19], NUM_LEDS_PER_STRING);
  FastLED.addLeds<LED_TYPE, 20, GRB>(leds[20], NUM_LEDS_PER_STRING);
  FastLED.addLeds<LED_TYPE, 21, GRB>(leds[21], NUM_LEDS_PER_STRING);
  FastLED.addLeds<LED_TYPE, 22, GRB>(leds[22], NUM_LEDS_PER_STRING);
  FastLED.addLeds<LED_TYPE, 23, GRB>(leds[23], NUM_LEDS_PER_STRING);
  FastLED.addLeds<LED_TYPE, 24, GRB>(leds[24], NUM_LEDS_PER_STRING);
  FastLED.addLeds<LED_TYPE, 25, GRB>(leds[25], NUM_LEDS_PER_STRING);
  FastLED.addLeds<LED_TYPE, 26, GRB>(leds[26], NUM_LEDS_PER_STRING);
  FastLED.addLeds<LED_TYPE, 27, GRB>(leds[27], NUM_LEDS_PER_STRING);
  FastLED.addLeds<LED_TYPE, 28, GRB>(leds[28], NUM_LEDS_PER_STRING);
  FastLED.addLeds<LED_TYPE, 29, GRB>(leds[29], NUM_LEDS_PER_STRING);
  FastLED.addLeds<LED_TYPE, 30, GRB>(leds[30], NUM_LEDS_PER_STRING);
  FastLED.addLeds<LED_TYPE, 31, GRB>(leds[31], NUM_LEDS_PER_STRING);
  FastLED.addLeds<LED_TYPE, 32, GRB>(leds[32], NUM_LEDS_PER_STRING);
  FastLED.addLeds<LED_TYPE, 33, GRB>(leds[33], NUM_LEDS_PER_STRING);
  FastLED.addLeds<LED_TYPE, 34, GRB>(leds[34], NUM_LEDS_PER_STRING);
  FastLED.addLeds<LED_TYPE, 35, GRB>(leds[35], NUM_LEDS_PER_STRING);
  FastLED.addLeds<LED_TYPE, 36, GRB>(leds[36], NUM_LEDS_PER_STRING);
  FastLED.addLeds<LED_TYPE, 37, GRB>(leds[37], NUM_LEDS_PER_STRING);
  FastLED.addLeds<LED_TYPE, 38, GRB>(leds[38], NUM_LEDS_PER_STRING);
  FastLED.addLeds<LED_TYPE, 39, GRB>(leds[39], NUM_LEDS_PER_STRING);
  FastLED.addLeds<LED_TYPE, 40, GRB>(leds[40], NUM_LEDS_PER_STRING);
  FastLED.addLeds<LED_TYPE, 41, GRB>(leds[41], NUM_LEDS_PER_STRING);

  FastLED.setBrightness(100);

  Serial.begin(9600);

  clear();

//  colorTest();

//      dataTest(0);
      show_dataset(death);

  FastLED.show();
}

void loop() {
  
//  cycle();
}

void clear() {
  for (int i = 0; i < NUM_STRINGS; i++) {
    for (int j = 0; j < NUM_LEDS_PER_STRING; j++) {
      leds[i][j] = CRGB::Black;
    }
  }
  FastLED.show();
  delay(100);
}

void colorTest() {

  for (int i = 0; i < 13; i++) {
    leds[3][i] = colors[6];
  }

}

void dataTest(int string) {
  int8_t data;
  for (int i = 0; i < NUM_LEDS_PER_STRING; i++) {
    leds[string][NUM_LEDS_PER_STRING - i] = colors[pm25[string][i]];
    Serial.println(pgm_read_byte(&(pm25[string][i])));
  }
}

void show_dataset(const char dataset[][13]) {
  for (int i = 0; i < NUM_STRINGS; i++) {
    for (int j = 0; j < NUM_LEDS_PER_STRING; j++) {
      leds[i][NUM_LEDS_PER_STRING-1-j] = colors[pgm_read_byte(&(dataset[i][j]))];
    }
  }
}

void cycle() {
  show_dataset(pm25);
  FastLED.show();
  delay(5000);
  show_dataset(death);
  FastLED.show();
  delay(5000);
  show_dataset(c_asthma);
  FastLED.show();
  delay(5000);
  show_dataset(resp);
  FastLED.show();
  delay(5000);
  show_dataset(cardio);
  FastLED.show();
  delay(5000);
  show_dataset(a_asthma);
  FastLED.show();
  delay(5000);
}

void pm25_ISR() {
  delay(150);
  show_dataset(pm25);
  FastLED.show();
}

void death_ISR() {
  delay(150);
  show_dataset(death);
  FastLED.show();
}
